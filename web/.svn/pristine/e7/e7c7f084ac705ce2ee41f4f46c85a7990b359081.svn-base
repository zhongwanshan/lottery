(function(){new Vue({el:"#js-pageDepositHistory",data:{mescroll:null,historyList:[],paramInfo:{action:CONFIG.ACTION.getWithdrawCashList,pageSize:20,pageNum:1,beginDay:"",endDay:"",authState:""},authState:"",state:CONFIG.AUTHSTATE,resultState:CONFIG.RESULTSTATE},watch:{authState:function(a){var t=this;t.paramInfo.pageNum=1,t.historyList=[],0==a.length?delete t.paramInfo.authState:t.paramInfo.authState=a,t.getWithdrawCashList()},"paramInfo.beginDay":function(){var a=this;a.paramInfo.pageNum=1,a.historyList=[],a.getWithdrawCashList()},"paramInfo.endDay":function(){var a=this;a.paramInfo.pageNum=1,a.historyList=[],a.getWithdrawCashList()}},methods:{getWithdrawCashList:function(){var a=this;utility.interactWithServer({headerInfo:{userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.walletService,CONFIG.ACTION.getWithdrawCashList,a.paramInfo)},url:CONFIG.HOST+CONFIG.SERVICE.walletService,dataObj:a.paramInfo,beforeSendCallback:function(){app.showIndicator()},completeCallback:function(a,t){app.hideIndicator()},successCallback:function(t){200==t.code?(t.data.length>0&&a.paramInfo.pageNum<=Math.ceil(t.count/a.paramInfo.pageSize)&&(a.paramInfo.pageNum=a.paramInfo.pageNum+1,a.historyList=t.data.concat(a.historyList)),a.mescroll.endBySize(a.historyList.length,t.count),a.mescroll.endSuccess()):(app.showPreloader(t.message),setTimeout(function(){app.hidePreloader()},1e3))}})}},created:function(){var a=this,t=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],e=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];setTimeout(function(){app.calendar({input:"#startTime",monthNames:t,dayNamesShort:e,onDayClick:function(t,e,n,i,o){a.paramInfo.beginDay=n+"-"+(parseInt(i,10)+1)+"-"+o}}),app.calendar({input:"#endTime",monthNames:t,dayNamesShort:e,onDayClick:function(t,e,n,i,o){a.paramInfo.endDay=n+"-"+(parseInt(i,10)+1)+"-"+o}})},1e3)},mounted:function(){var a=this;a.mescroll=new MeScroll("mescroll",{down:{callback:function(){a.getWithdrawCashList()}}})}})})();