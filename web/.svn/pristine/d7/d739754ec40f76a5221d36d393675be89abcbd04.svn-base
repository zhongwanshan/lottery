(function(){new Vue({el:"#js-orderDetail",data:{userInfo:USERINFO,statu:CONFIG.ORDERSTATU,orderDetail:null,downTimeInfo:null,timeInterval:null,orderInfo:{orderCode:"",action:CONFIG.ACTION.payOrder,backUrl:""},paramInfo:{orderCode:"",action:CONFIG.ACTION.payOrder,goToUrl:"view/order/order.html"}},methods:{getOrderDetail:function(){var e=this;utility.interactWithServer({headerInfo:{appType:1,userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.commonOrderService,CONFIG.ACTION.getOrderDetail,{action:CONFIG.ACTION.getOrderDetail,orderCode:PAGE.query.orderCode})},url:CONFIG.HOST+CONFIG.SERVICE.commonOrderService,dataObj:{action:CONFIG.ACTION.getOrderDetail,orderCode:PAGE.query.orderCode},successCallback:function(r){200==r.code&&(e.orderDetail=r.data,e.orderInfo.orderCode=e.orderDetail.orderCode,e.paramInfo.orderCode=e.orderDetail.orderCode,e.dountDownTime())}})},dountDownTime:function(){var e=this;e.timeInterval=setInterval(function(){e.orderDetail.planAwardTime&&(e.downTimeInfo=utility.leftTimer(new Date(e.orderDetail.planAwardTime.replace(/-/g,"/")),new Date),e.downTimeInfo.days<=0&&e.downTimeInfo.minutes<=0&&e.downTimeInfo.seconds<=0&&clearInterval(e.timeInterval))},1e3)},submitOrder:function(){var e=this;1!=e.isAction&&(e.orderInfo.backUrl=CONFIG.HOST+"/app/app.html#page/view/order/result.html?paramInfo="+encodeURI(JSON.stringify(e.paramInfo)),window.location.href=CONFIG.HOST+utility.formatActionUrl(CONFIG.SERVICE.walletService,CONFIG.ACTION.payOrder,e.orderInfo)+"&userId="+USERINFO.userId+"&userToken="+USERINFO.userToken+"&appType=1")}},created:function(){var e=this;e.getOrderDetail()}})})();