(function(){new Vue({el:"#js-pageLogin",data:{isAction:!1,pwd:utility.getLocalStorage("remember")?utility.getLocalStorage("remember").pwd:"",paramInfo:{userAccount:utility.getLocalStorage("remember")?utility.getLocalStorage("remember").phone:"",userType:"0",pwd:"",action:CONFIG.ACTION.userLogin},isChecked:1},methods:{doAction:function(){var e=this;if(1!=e.isAction){if(utility.checkLen(e.paramInfo.userAccount,0))return app.showPreloader("手机号不能为空"),void setTimeout(function(){app.hidePreloader()},1e3);if(!utility.checkPhone(e.paramInfo.userAccount))return app.showPreloader("手机号格式错误"),void setTimeout(function(){app.hidePreloader()},1e3);if(utility.checkLen(e.pwd,0))return app.showPreloader("密码不能为空"),void setTimeout(function(){app.hidePreloader()},1e3);e.paramInfo.pwd=md5(e.pwd).toUpperCase(),utility.setLocalStorage("remember",{phone:e.paramInfo.userAccount,pwd:e.pwd}),utility.interactWithServer({headerInfo:{appType:"1",userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.commonService,CONFIG.ACTION.registerUserByPhone,e.paramInfo)},url:CONFIG.HOST+CONFIG.SERVICE.commonService,dataObj:e.paramInfo,beforeSendCallback:function(){app.showIndicator()},completeCallback:function(o,t){app.hideIndicator(),e.isAction=!1},successCallback:function(e){if(200==e.code){var o=PAGE.fromPage.name,t=PAGE.fromPage.url;utility.setLocalStorage("userInfo",e.data),setTimeout(function(){"user-register"==o||"user-resetPass"==o?mainView.router.loadPage("view/me.html"):mainView.router.loadPage(t)},500)}else app.showPreloader(e.message),setTimeout(function(){app.hidePreloader()},1e3)}})}}},created:function(){}})})();