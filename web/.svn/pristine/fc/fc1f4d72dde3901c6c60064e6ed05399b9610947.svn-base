(function(){new Vue({el:"#js-pageKingBi",data:{userInfo:USERINFO,transList:{},transInfo:{transType:"",transType:"",curPage:0,pageSize:10,pageNum:1,action:CONFIG.ACTION.getWalletTransList},pageCount:1,transtype:CONFIG.TRANSTYPE},methods:{userLogout:function(){utility.userLogout(function(){window.location.replace(CONFIG.HOST+"/shop/view/user/login.html")})},getByPage:function(t){var e=this;e.transInfo.pageNum=t,e.getUserCoinList()},getPreViewData:function(){var t=this;t.transInfo.pageNum>1&&(t.transInfo.pageNum=t.transInfo.pageNum-1,t.getUserCoinList())},getNextData:function(){var t=this;t.transInfo.pageNum<t.pageCount&&(t.transInfo.pageNum=t.transInfo.pageNum+1,t.getUserCoinList())},getUserCoinList:function(){var t=this;utility.interactWithServer({headerInfo:{appType:"2",userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.walletService,CONFIG.ACTION.getWalletTransList,t.transInfo)},url:CONFIG.HOST+CONFIG.SERVICE.walletService,dataObj:t.transInfo,successCallback:function(e){200==e.code?t.transList=e.data:alert(e.message)}})}},created:function(){var t=this;t.getUserCoinList(),setTimeout(function(){t.userInfo=USERINFO},1e3)}})})();