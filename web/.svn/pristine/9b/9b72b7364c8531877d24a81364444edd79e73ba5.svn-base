(function(){new Vue({el:"#js-orderList",data:{mescroll:null,orderList:[],statu:CONFIG.ORDERSTATU,orderParam:{action:CONFIG.ACTION.getOrderList,pageSize:10,pageNum:1,beginDay:"",endDay:"",orderStatus:""},orderStatus:""},watch:{orderStatus:function(r){var e=this;e.orderParam.pageNum=1,e.orderList=[],0==r.length?delete e.orderParam.orderStatus:e.orderParam.orderStatus=r,e.getOrderList()},"orderParam.beginDay":function(){var r=this;r.orderParam.pageNum=1,r.orderList=[],r.getOrderList()},"orderParam.endDay":function(){var r=this;r.orderParam.pageNum=1,r.orderList=[],r.getOrderList()}},methods:{getOrderList:function(){var r=this;utility.interactWithServer({headerInfo:{userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.commonOrderService,CONFIG.ACTION.getOrderList,r.orderParam)},url:CONFIG.HOST+CONFIG.SERVICE.commonOrderService,dataObj:r.orderParam,successCallback:function(e){200==e.code&&(e.data.length>0&&r.orderParam.pageNum<=Math.ceil(e.count/r.orderParam.pageSize)&&(r.orderParam.pageNum=r.orderParam.pageNum+1,r.orderList=e.data.concat(r.orderList)),r.mescroll.endBySize(r.orderList.length,e.count),r.mescroll.endSuccess())},errorCallback:function(){r.mescroll.endErr()}})}},created:function(){var r=this,e=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],a=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];setTimeout(function(){app.calendar({input:"#startTime",monthNames:e,dayNamesShort:a,onDayClick:function(e,a,t,o,n){r.orderParam.beginDay=t+"-"+(parseInt(o,10)+1)+"-"+n}}),app.calendar({input:"#endTime",monthNames:e,dayNamesShort:a,onDayClick:function(e,a,t,o,n){r.orderParam.endDay=t+"-"+(parseInt(o,10)+1)+"-"+n}})},1e3)},mounted:function(){var r=this;r.mescroll=new MeScroll("mescroll",{down:{callback:function(){r.getOrderList()}},up:{auto:!1,callback:function(){r.getOrderList()}}})}})})();