(function(){new Vue({el:"#js-pageInfo",data:{isAction:!1,tabType:0,userInfo:USERINFO,imageData:USERINFO.headImageUrl||"",paramInfo:{nickName:USERINFO.nickName,action:CONFIG.ACTION.modifyUserNickName},nickName:"",headImgAction:CONFIG.HOST+CONFIG.SERVICE.uploadService+"?fileType=headImg"},methods:{switchTab:function(e){var a=this;a.tabType=e},userLogout:function(){utility.userLogout(function(){window.location.replace(CONFIG.HOST+"/www/index.html")})},doNikNameAction:function(){var e=this;if(1!=e.isAction){if(utility.checkLen(e.paramInfo.nickName,0))return void alert("昵称不能为空");if(e.paramInfo.nickName.length>10)return void alert("昵称长度过长");e.paramInfo.nickName=encodeURI(e.nickName),utility.interactWithServer({headerInfo:{appType:"2",userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.commonService,CONFIG.ACTION.modifyUserNickName,e.paramInfo)},url:CONFIG.HOST+CONFIG.SERVICE.commonService,dataObj:e.paramInfo,completeCallback:function(a,i){e.isAction=!1},successCallback:function(a){200==a.code?(e.userInfo.nickName=e.nickName,utility.setLocalStorage("userInfo",e.userInfo)):alert(a.message)}})}}},created:function(){console.log(USERINFO)}})})();