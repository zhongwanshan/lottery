(function(){new Vue({el:"#js-account",data:{mescroll:null,userInfo:USERINFO,walletTransList:[],transInfo:{transType:"",curPage:0,pageSize:10,pageNum:1,action:CONFIG.ACTION.getWalletTransList},transType:CONFIG.TRANSTYPE},watch:{"transInfo.transType":function(e){var t=this;t.transInfo.pageNum=1,t.walletTransList=[],t.getWalletTransList()}},methods:{getWalletTransList:function(){var e=this;utility.interactWithServer({headerInfo:{userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.walletService,CONFIG.ACTION.getWalletTransList,e.transInfo)},url:CONFIG.HOST+CONFIG.SERVICE.walletService,dataObj:e.transInfo,beforeSendCallback:function(){app.showIndicator()},completeCallback:function(e,t){app.hideIndicator()},successCallback:function(t){200==t.code?(t.data.length>0&&e.transInfo.pageNum<=Math.ceil(t.count/e.transInfo.pageSize)&&(e.transInfo.pageNum=e.transInfo.pageNum+1,e.walletTransList=e.walletTransList.concat(t.data)),e.mescroll.endBySize(e.walletTransList.length,t.count),e.mescroll.endSuccess()):(app.showPreloader(t.message),setTimeout(function(){app.hidePreloader()},1e3))}})}},created:function(){var e=this;setTimeout(function(){e.userInfo=USERINFO},1e3)},mounted:function(){var e=this;e.mescroll=new MeScroll("mescroll",{up:{callback:function(){e.getWalletTransList()}}})}})})();