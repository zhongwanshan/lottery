(function(){new Vue({el:"#js-pageDepositHistory",data:{mescroll:null,rechargeStatu:CONFIG.RECHARGESTATU,rechargeType:CONFIG.RECHARGETYPE,historyList:[],paramInfo:{action:CONFIG.ACTION.getRrechargeList,pageSize:20,pageNum:1,beginDay:"",endDay:"",resultStatus:""},resultStatus:""},watch:{resultStatus:function(a){var e=this;e.paramInfo.pageNum=1,e.historyList=[],0==a.length?delete e.paramInfo.authState:e.paramInfo.authState=a,e.getRrechargeList()},"paramInfo.beginDay":function(){var a=this;a.paramInfo.pageNum=1,a.historyList=[],a.getRrechargeList()},"paramInfo.endDay":function(){var a=this;a.paramInfo.pageNum=1,a.historyList=[],a.getRrechargeList()}},methods:{getRrechargeList:function(){var a=this;utility.interactWithServer({headerInfo:{userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.walletService,CONFIG.ACTION.getRrechargeList,a.paramInfo)},url:CONFIG.HOST+CONFIG.SERVICE.walletService,dataObj:a.paramInfo,beforeSendCallback:function(){app.showIndicator()},completeCallback:function(a,e){app.hideIndicator()},successCallback:function(e){200==e.code?(e.data.length>0&&a.paramInfo.pageNum<=Math.ceil(e.count/a.paramInfo.pageSize)&&(a.paramInfo.pageNum=a.paramInfo.pageNum+1,a.historyList=e.data.concat(a.historyList)),a.mescroll.endBySize(a.historyList.length,e.count),a.mescroll.endSuccess()):(app.showPreloader(e.message),setTimeout(function(){app.hidePreloader()},1e3))}})}},created:function(){var a=this,e=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],t=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];setTimeout(function(){app.calendar({input:"#startTime",monthNames:e,dayNamesShort:t,onDayClick:function(e,t,n,r,o){a.paramInfo.beginDay=n+"-"+(parseInt(r,10)+1)+"-"+o}}),app.calendar({input:"#endTime",monthNames:e,dayNamesShort:t,onDayClick:function(e,t,n,r,o){a.paramInfo.endDay=n+"-"+(parseInt(r,10)+1)+"-"+o}})},1e3)},mounted:function(){var a=this;a.mescroll=new MeScroll("mescroll",{down:{callback:function(){a.getRrechargeList()}}})}})})();