(function(){new Vue({el:"#js-depRech",data:{type:0,userInfo:USERINFO,rechargeStatu:CONFIG.RECHARGESTATU,rechargeType:CONFIG.RECHARGETYPE,state:CONFIG.AUTHSTATE,resultState:CONFIG.RESULTSTATE,resultStatus:"",authState:"",rechargeParamInfo:{action:CONFIG.ACTION.getRrechargeList,pageSize:10,pageNum:1,beginDay:"",endDay:"",resultStatus:""},rechargePageCount:1,rechargeList:[],depositPageCount:1,depositList:[],depositParamInfo:{action:CONFIG.ACTION.getWithdrawCashList,pageSize:10,pageNum:1,beginDay:"",endDay:"",authState:""}},methods:{switchType:function(e){var a=this;a.type=e},userLogout:function(){utility.userLogout(function(){window.location.replace(CONFIG.HOST+"/shop/view/user/login.html")})},getDepositList:function(e){var a=this;1==e&&(a.depositParamInfo.pageNum=1),utility.interactWithServer({headerInfo:{appType:"2",userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.walletService,CONFIG.ACTION.getWithdrawCashList,a.depositParamInfo)},url:CONFIG.HOST+CONFIG.SERVICE.walletService,dataObj:a.depositParamInfo,successCallback:function(e){200==e.code?e.data.length>0?(a.depositPageCount=Math.ceil(e.count/a.depositParamInfo.pageSize),a.depositList=e.data):a.depositList=[]:alert(e.message)}})},getRrechargeList:function(e){var a=this;1==e&&(a.rechargeParamInfo.pageNum=1),utility.interactWithServer({headerInfo:{appType:"2",userId:USERINFO?USERINFO.userId:"",userToken:USERINFO?USERINFO.userToken:"",actionUrl:utility.formatActionUrl(CONFIG.SERVICE.walletService,CONFIG.ACTION.getRrechargeList,a.rechargeParamInfo)},url:CONFIG.HOST+CONFIG.SERVICE.walletService,dataObj:a.rechargeParamInfo,successCallback:function(e){200==e.code?e.data.length>0?(a.rechargePageCount=Math.ceil(e.count/a.rechargeParamInfo.pageSize),a.rechargeList=e.data):a.rechargeList=[]:alert(e.message)}})},getByPage:function(e,a){var t=this;0==a?(t.rechargeParamInfo.pageNum=e,t.getRrechargeList()):1==a&&(t.depositParamInfo.pageNum=e,t.getDepositList())},getPreViewData:function(e){var a=this;0==e?a.rechargeParamInfo.pageNum>1&&(a.rechargeParamInfo.pageNum=a.rechargeParamInfo.pageNum-1,a.getRrechargeList()):1==e&&a.depositParamInfo.pageNum>1&&(a.depositParamInfo.pageNum=a.depositParamInfo.pageNum-1,a.getDepositList())},getNextData:function(e){var a=this;0==e?a.rechargeParamInfo.pageNum<a.rechargePageCount&&(a.rechargeParamInfo.pageNum=a.rechargeParamInfo.pageNum+1,a.getRrechargeList()):1==e&&a.depositParamInfo.pageNum<a.depositParamInfo&&(a.depositParamInfo.pageNum=a.depositParamInfo.pageNum+1,a.getDepositList())}},created:function(){var e=this;e.getDepositList(),e.getRrechargeList(),setTimeout(function(){e.userInfo=USERINFO},1e3)},mounted:function(){var e=this;$("#rechargeStarTime").fdatepicker({format:"yyyy-mm-dd"}).on("changeDate",function(a){e.rechargeParamInfo.beginDay=$("#rechargeStarTime").val()}),$("#rechargeEndTime").fdatepicker({format:"yyyy-mm-dd"}).on("changeDate",function(a){e.rechargeParamInfo.endDay=$("#rechargeEndTime").val()}),$("#depositStarTime").fdatepicker({format:"yyyy-mm-dd"}).on("changeDate",function(a){e.depositParamInfo.beginDay=$("#depositStarTime").val()}),$("#depositEndTime").fdatepicker({format:"yyyy-mm-dd"}).on("changeDate",function(a){e.depositParamInfo.endDay=$("#depositEndTime").val()})}})})();